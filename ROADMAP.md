# 功能更新规划 (Roadmap)

本文档记录了图片去水印工具的功能更新规划，按优先级排序。

---

## 版本规划

### v1.1 - 核心体验优化 (高优先级)

| 功能 | 描述 | 状态 |
|------|------|------|
| 批量处理 | 支持同时上传多张图片，批量去水印/加水印后打包下载（ZIP） | ✅ 已完成 |
| 水印模板保存 | 保存常用的水印设置（文字、位置、样式），localStorage 存储，一键复用 | ✅ 已完成 |
| 暗色模式 | 切换深色主题，保护眼睛，适配系统偏好 | ✅ 已完成 |
| 图片压缩 | 输出时可选择压缩质量（10%-100%），平衡文件大小和画质 | ✅ 已完成 |
| 格式转换 | 支持输出 JPG、PNG、WebP 等多种格式 | ✅ 已完成 |

---

### v1.2 - 水印功能增强 (中优先级)

| 功能 | 描述 | 状态 |
|------|------|------|
| 自定义字体上传 | 让用户上传自己的 .ttf/.otf 字体文件 | ⬜ 待开发 |
| 多水印叠加 | 一张图同时添加多个水印（不同位置/样式） | ⬜ 待开发 |
| 水印边框/阴影 | 文字水印增加描边、阴影、发光效果 | ⬜ 待开发 |
| 二维码水印 | 输入链接自动生成并添加二维码作为水印 | ⬜ 待开发 |
| 日期时间水印 | 自动添加当前日期/时间戳，支持自定义格式 | ⬜ 待开发 |

---

### v1.3 - 图像处理扩展 (中优先级)

| 功能 | 描述 | 状态 |
|------|------|------|
| 图片裁剪 | 上传后可先裁剪再处理，支持自由裁剪和固定比例 | ⬜ 待开发 |
| 分辨率调整 | 处理后可调整图片尺寸，支持按比例缩放 | ⬜ 待开发 |
| 历史记录 | 本地存储最近处理的图片（IndexedDB），方便重新下载或查看 | ⬜ 待开发 |
| 撤销/重做 | 多步操作支持撤销，最多保存 10 步 | ⬜ 待开发 |

---

### v1.4 - 用户体验优化 (中优先级)

| 功能 | 描述 | 状态 |
|------|------|------|
| 实时预览 | 调整参数时实时预览效果（防抖处理，无需点击提交） | ⬜ 待开发 |
| 快捷键支持 | 键盘快捷键操作（Ctrl+Z 撤销、Ctrl+S 保存等） | ⬜ 待开发 |
| 多语言支持 | 中英文切换，i18n 国际化 | ⬜ 待开发 |
| 拖拽排序 | 批量处理时支持拖拽调整图片顺序 | ⬜ 待开发 |

---

### v2.0 - AI 增强 (低优先级/长期)

| 功能 | 描述 | 状态 |
|------|------|------|
| 智能 AI 去水印 | 集成深度学习模型（LaMa、MAT），处理复杂水印效果更好 | ⬜ 待研究 |
| 智能水印检测 | AI 自动识别水印位置和类型，推荐最佳去除方法 | ⬜ 待研究 |
| 背景修复增强 | 基于生成模型的智能内容填充 | ⬜ 待研究 |

---

### v2.1 - 功能扩展 (低优先级/长期)

| 功能 | 描述 | 状态 |
|------|------|------|
| 视频去水印 | 支持短视频水印去除（ffmpeg + OpenCV） | ⬜ 待研究 |
| PDF 去水印 | 处理 PDF 文档中的水印 | ⬜ 待研究 |
| 截图工具 | 浏览器插件，网页截图后直接处理 | ⬜ 待研究 |
| API 开放 | 提供 RESTful API 供第三方调用 | ⬜ 待研究 |

---

## 状态说明

| 状态 | 说明 |
|------|------|
| ⬜ 待开发 | 已规划，等待开发 |
| ⬜ 待研究 | 需要技术调研 |
| 🔄 开发中 | 正在开发 |
| ✅ 已完成 | 开发完成 |
| ❌ 已取消 | 不再计划开发 |

---

## 已完成功能 (v1.0)

- [x] 自动检测去水印（亮度阈值）
- [x] 手动选择区域去水印
- [x] 按颜色去除水印
- [x] 频域滤波去水印
- [x] 文字水印添加（支持平铺、自定义位置、旋转、透明度）
- [x] 图片水印添加（支持透明 PNG、缩放、平铺）
- [x] Glassmorphism 玻璃拟态设计
- [x] 响应式布局（移动端适配）
- [x] 拖拽上传
- [x] 实时参数调节
- [x] PM2 进程管理
- [x] 一键部署脚本

---

## 贡献指南

如果您想参与开发，请：

1. Fork 本项目
2. 创建功能分支 (`git checkout -b feature/xxx`)
3. 提交更改 (`git commit -m 'Add xxx feature'`)
4. 推送到分支 (`git push origin feature/xxx`)
5. 创建 Pull Request

---

## 更新日志

### 2025-01-25
- v1.1 完成：批量处理、水印模板、暗色模式、图片压缩、格式转换
- 创建功能规划文档

### 历史版本
- v1.1 - 核心体验优化：批量处理、水印模板、暗色模式、图片压缩、格式转换
- v1.0 - 初始版本，包含基础去水印和加水印功能
